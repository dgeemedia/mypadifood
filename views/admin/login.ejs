<!-- views/admin/login.ejs -->
<div class="account-page">
  <h1 class="account-title">
    <%= (userType === 'admin' ? 'Admin Login' : 'Client Login') %>
  </h1>

  <form
    id="loginForm"
    method="post"
    action="<%= userType === 'admin' ? '/admin/login' : '/client/login' %>"
    class="account-form"
  >
    <div class="form-row">
      <label for="login-email"
        >Email <span class="required" aria-hidden="true">*</span></label
      >
      <input id="login-email" name="email" type="email" required />
    </div>

    <div class="form-row" style="position: relative">
      <label for="login-password"
        >Password <span class="required" aria-hidden="true">*</span></label
      >
      <input
        id="login-password"
        name="password"
        type="password"
        required
        pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,}$"
        aria-describedby="pw-requirements"
      />
      <button type="button" class="pw-toggle" aria-pressed="false">Show</button>
    </div>

    <div id="pw-requirements" class="pw-requirements" aria-hidden="true">
      <strong>Password requirements:</strong>
      <ul>
        <li>Minimum 8 characters</li>
        <li>At least 1 uppercase letter</li>
        <li>At least 1 number</li>
        <li>At least 1 special character (e.g. !@#$%)</li>
      </ul>
    </div>

    <div class="form-row">
      <button type="submit" class="btn-primary">Sign in</button>
    </div>
  </form>

  <hr style="width: 100%; max-width: 460px; margin: 18px 0" />

  <!-- Optional: offer admin password reset link -->
  <div class="account-page" style="padding: 0">
    <h4 style="margin: 8px 0">Forgot your password?</h4>
    <form method="get" action="/admin/forgot" class="account-form" style="margin-top: 8px; max-width: 460px">
      <div class="form-row">
        <label for="forgot-email">Enter your admin email <span class="required" aria-hidden="true">*</span></label>
        <input id="forgot-email" type="email" name="email" required placeholder="admin@example.com" />
      </div>
      <div class="form-row">
        <button type="submit" class="btn-primary">Request password reset</button>
      </div>
    </form>
  </div>

  <!-- If you want to show a small note / link for super-admins to create new admins,
       keep it but hide for regular use. Remove if undesired. -->
  <% if (false) { %>
    <p class="register-link" style="width:100%; max-width:460px; margin-top:10px">
      Need to create an admin? <a href="/admin/create">Create admin</a>
    </p>
  <% } %>
</div>

<!-- Dev verification link (keeps parity with client page; will be empty unless controller sets it) -->
<div
  id="dev-verification"
  data-link="<%= typeof verification_link !== 'undefined' && verification_link ? verification_link : '' %>"
  style="display: none"
  aria-hidden="true"
></div>
